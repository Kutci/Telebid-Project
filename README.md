# üåê Custom Node.js Web Server with Authentication & Captcha

–¢–æ–∑–∏ –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ **–ø—ä–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω —É–µ–± —Å—ä—Ä–≤—ä—Ä**, –∏–∑–≥—Ä–∞–¥–µ–Ω –∏–∑—Ü—è–ª–æ —Å **Vanilla Node.js** (–±–µ–∑ –≤—ä–Ω—à–Ω–∏ —Ñ—Ä–µ–π–º—É–æ—Ä–∫–æ–≤–µ –∫–∞—Ç–æ Express).  
–°–∏—Å—Ç–µ–º–∞—Ç–∞ –≤–∫–ª—é—á–≤–∞ **—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, –∑–∞—â–∏—Ç–µ–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Å–∏–∏ –∏ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç**.

---

## üöÄ –ò–∑–ø–æ–ª–∑–≤–∞–Ω–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Backend
- **Node.js**: –û—Å–Ω–æ–≤–Ω–∞ —Å—Ä–µ–¥–∞ –∑–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ  
- **SQL (MySQL)**: –ó–∞ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏ –¥–∞–Ω–Ω–∏ –∏ –∞–∫—Ç–∏–≤–Ω–∏ —Å–µ—Å–∏–∏

### –í–≥—Ä–∞–¥–µ–Ω–∏ Node.js –º–æ–¥—É–ª–∏
- **http**: –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞ –∏ –Ω–∏—Å–∫–æ –Ω–∏–≤–æ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –∑–∞—è–≤–∫–∏—Ç–µ  
- **fs (File System)**: –ß–µ—Ç–µ–Ω–µ –∏ —Å–µ—Ä–≤–∏—Ä–∞–Ω–µ –Ω–∞ —Å—Ç–∞—Ç–∏—á–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ  
- **path**: –ö–æ—Ä–µ–∫—Ç–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ø—ä—Ç–∏—â–∞ –º–µ–∂–¥—É —Ñ–∞–π–ª–æ–≤–µ—Ç–µ  
- **url**: –ü–∞—Ä—Å–≤–∞–Ω–µ –Ω–∞ URL –∞–¥—Ä–µ—Å–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –æ—Ç –∑–∞—è–≤–∫–∏—Ç–µ  

### –í—ä–Ω—à–Ω–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **dotenv**: –°–∏–≥—É—Ä–Ω–æ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (Environment Variables)  
- **mysql2**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—è —Å –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏  

---
## üõ†Ô∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏

### 1Ô∏è‚É£ –†—ä—á–Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è (Custom Routing)
- –û–±—Ä–∞–±–æ—Ç–∫–∞—Ç–∞ –Ω–∞ –≤—Å–∏—á–∫–∏ GET –∏ POST –∑–∞—è–≤–∫–∏ —Å–µ –∏–∑–≤—ä—Ä—à–≤–∞ —á—Ä–µ–∑ **–¥–∏—Ä–µ–∫—Ç–Ω–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ `req.method` –∏ `parsedUrl.pathname`**.
- –ù–µ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç –≥–æ—Ç–æ–≤–∏ —Ä—É—Ç–µ—Ä–∏ –∏–ª–∏ –≤—ä–Ω—à–Ω–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.

### 2Ô∏è‚É£ –ê–≤—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—è –∏ —Å–µ—Å–∏–∏
- **–£–Ω–∏–∫–∞–ª–Ω–∏ —Å–µ—Å–∏–∏**: –ì–µ–Ω–µ—Ä–∏—Ä–∞—Ç —Å–µ —á—Ä–µ–∑ `utils.generateSessionId()`.
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Å–µ—Å–∏—è—Ç–∞**: –ü—Ä–æ–≤–µ—Ä—è–≤–∞ —Å–µ –ø—Ä–∏ –≤—Å—è–∫–∞ –∑–∞—â–∏—Ç–µ–Ω–∞ –∑–∞—è–≤–∫–∞ —á—Ä–µ–∑ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏.
- **Login/Logout**
  - **Login**: –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–Ω–Ω–∏—Ç–µ —á—Ä–µ–∑ `utils.validateUsername()` –∏ `utils.validatePassword()`. –ê–∫–æ –¥–∞–Ω–Ω–∏—Ç–µ —Å–∞ –≤–∞–ª–∏–¥–Ω–∏, —Å–µ —Å—ä–∑–¥–∞–≤–∞ –Ω–æ–≤–∞ —Å–µ—Å–∏—è.
  - **Logout**: –ò–∑—Ç—Ä–∏–≤–∞ —Å–µ—Å–∏—è—Ç–∞ –æ—Ç –±–∞–∑–∞—Ç–∞ –∏ –ø—Ä–µ–º–∞—Ö–≤–∞ cookie –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞.
- **–°–∏–≥—É—Ä–Ω–æ—Å—Ç**: –°–µ—Å–∏–π–Ω–∏—Ç–µ cookies —Å–∞ **HttpOnly**, –∑–∞ –∑–∞—â–∏—Ç–∞ —Å—Ä–µ—â—É XSS.

### 3Ô∏è‚É£ –°–∏–≥—É—Ä–Ω–æ—Å—Ç (Security)
- **–•–µ—à–∏—Ä–∞–Ω–µ –Ω–∞ –ø–∞—Ä–æ–ª–∏**: –í—Å–∏—á–∫–∏ –ø–∞—Ä–æ–ª–∏ —Å–µ –æ–±—Ä–∞–±–æ—Ç–≤–∞—Ç —á—Ä–µ–∑ **SHA-256**.
- **CAPTCHA —Å–∏—Å—Ç–µ–º–∞**: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–∞–Ω–∞ **SVG –∫–∞–ø—á–∞** –∑–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∫–æ—è—Ç–æ –∑–∞—â–∏—Ç–∞–≤–∞ –æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞–Ω–∏ –±–æ—Ç–æ–≤–µ.
  - –ö–æ–¥–æ–≤–µ—Ç–µ –∏–º–∞—Ç **–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ –≤—Ä–µ–º–µ –Ω–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç (TTL)**.
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –≤—Ö–æ–¥–Ω–∏ –¥–∞–Ω–Ω–∏**:
  - `utils.validateUsername(username)` ‚Äì –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ –∏–º–µ.
  - `utils.validatePassword(password)` ‚Äì –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–∞—Ä–æ–ª–∞.
  - `utils.validateCaptcha(captchaInput, sessionId)` ‚Äì –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ CAPTCHA.

### 4Ô∏è‚É£ –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏ –ø—Ä–æ—Ñ–∏–ª
- **API –µ–Ω–¥–ø–æ–∏–Ω—Ç–∏** –∑–∞ –∏–∑–≤–ª–∏—á–∞–Ω–µ –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ –ø—Ä–æ—Ñ–∏–ª–∞.
- **–ü—Ä–æ–º—è–Ω–∞ –Ω–∞ –∏–º–µ–Ω–∞ –∏ –ø–∞—Ä–æ–ª–∞**:
  - –î–∞–Ω–Ω–∏—Ç–µ —Å–µ –≤–∞–ª–∏–¥–∏—Ä–∞—Ç —á—Ä–µ–∑ `utils` —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–µ–¥–∏ –∑–∞–ø–∏—Å –≤ –±–∞–∑–∞—Ç–∞.
- **–ó–∞—â–∏—Ç–µ–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—è**: –ò–∑–∏—Å–∫–≤–∞—Ç –≤–∞–ª–∏–¥–Ω–∞ —Å–µ—Å–∏—è.

---

## –ì–æ—Ç–æ–≤–∏ —Ñ—É–Ω–∫—Ü–∏–∏
- generateCaptcha –≤ utils.js
- createMockReqRes –≤ server.test.js

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞
- src/:
  - server.js - –û—Å–Ω–æ–≤–µ–Ω —Å—ä—Ä–≤—ä—Ä–µ–Ω —Ñ–∞–π–ª –∏ –≤—Ö–æ–¥–Ω–∞ —Ç–æ—á–∫–∞
  - db.js - –õ–æ–≥–∏–∫–∞ –∑–∞ –≤—Ä—ä–∑–∫–∞ —Å –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏
  - utils.js - –ü–æ–º–æ—â–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- public/ - –°—Ç–∞—Ç–∏—á–Ω–∏ —Ä–µ—Å—É—Ä—Å–∏ (HTML, CSS, JS)
